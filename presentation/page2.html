<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DUST: The Five Solutions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: #E2E8F0;
            overflow-x: hidden;
            margin: 0;
        }
        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            padding-top: 8rem;
            padding-bottom: 4rem;
            background-image: linear-gradient(rgba(2, 6, 23, 0.9), rgba(2, 6, 23, 0.9)), url('https://images.unsplash.com/photo-1634712282210-2b7a760135b4?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .header {
            text-align: center;
            margin-bottom: 4rem;
        }
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            width: 100%;
            max-width: 1500px;
        }
        .info-card {
            background-color: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid #334155;
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: left;
            display: flex;
            flex-direction: column;
            height: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(74, 222, 128, 0.15);
            border-color: #4ADE80;
        }
        .info-card h3 {
            font-size: 1.25rem; font-weight: 700; color: #94A3B8; margin-bottom: 1rem;
        }
        .info-card .description {
            color: #CBD5E1; font-size: 1rem; line-height: 1.6; flex-grow: 1;
        }
        .canvas-container {
            width: 100%;
            height: 150px;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            background: #020617;
            overflow: hidden;
        }
        #modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px);
            z-index: 40; display: none; opacity: 0;
        }
        #modal-content {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 90%; max-width: 600px;
            background: linear-gradient(145deg, #1f2937, #111827);
            border: 1px solid #4ADE80; border-radius: 1rem;
            padding: 2rem; z-index: 50; display: none; opacity: 0;
            color: #CBD5E1;
        }
        #modal-close {
            position: absolute; top: 1rem; right: 1rem; font-size: 2rem;
            color: #64748B; cursor: pointer; transition: color 0.2s ease;
        }
        #modal-close:hover { color: #4ADE80; }
    </style>
</head>
<body>
    <div class="main-container" role="main">
        <div class="header">
            <h1 class="text-4xl md:text-5xl font-black mb-4">The Single Fix</h1>
            <p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">The five paradoxes are not separate problems. They are a cascade of failures stemming from a single flawed assumption. Correcting it resolves them all.</p>
        </div>

        <div class="card-grid">
            <!-- Cards will be populated by JS -->
        </div>
    </div>

    <!-- Modal -->
    <div id="modal-overlay"></div>
    <div id="modal-content">
        <div id="modal-close">&times;</div>
        <h2 id="modal-title" class="text-3xl font-bold text-green-400 mb-4"></h2>
        <p id="modal-description" class="text-lg"></p>
    </div>

    <script>
        const solutionData = [
            { id: 'duality', title: 'Solution: Duality as a Physical State', short: 'The paradox is resolved by treating "wave" and "particle" as two different, controllable energy states of a single underlying system.', full: 'DUST posits that a particle is a composite system of "Duccions." Its wave-like nature is a high-energy, dissonant state, while its particle-like nature is a stable, low-energy ground state. The "Duality Dial" experiment, derived from the theory, proposes a method to controllably shift a particle between these states, turning a paradox into a piece of engineering.' },
            { id: 'measurement', title: 'Solution: A Deterministic Interaction', short: 'The "collapse" is not random. It is a predictable physical interaction between the measurement device and the vacuum itself.', full: "The observer effect is real, but not magical. DUST proves that the energy of a measurement apparatus physically interacts with the Duality Field (the vacuum), forcing a particle's internal state into its most stable, coherent configuration. The outcome is not a matter of chance, but a deterministic result of the Principle of Least Spectral Action." },
            { id: 'consciousness', title: 'Solution: The Physics of Mind', short: 'Consciousness is not an illusion. It is a physical, coherent field of light generated by the brain.', full: "DUST provides the missing bridge between mind and matter. It defines subjective experience as the direct perception of the physical state of a coherent biophoton field. Thoughts and emotions are the harmony and dissonance of this field. This framework makes consciousness a measurable, physical phenomenon, subject to the laws of physics." },
            { id: 'cosmological', title: 'Solution: A Universe from a Crystal', short: 'Dark Matter and Dark Energy are fictions. The cosmos is governed by the geometry of a physical vacuum.', full: "DUST proves that the vacuum is a crystalline structure called the Prime Periodic Lattice. Its geometric properties, derived from first principles, are the true source of cosmic dynamics. The theory correctly predicts phenomena like galactic rotation and the accelerating expansion of the universe without the need for any mysterious dark substances." },
            { id: 'mathematical', title: 'Solution: The Language of Reality', short: 'Mathematics is "unreasonably effective" because it is not an invention; it is a discovery of the universe\'s own language.', full: "DUST proves that the laws of mathematics and the laws of physics are one and the same because they both emerge directly from the fundamental, prime-based geometry of the vacuum. The constants of math (like pi and e) and the constants of physics (like the strength of gravity) are all calculable properties of this single, underlying structure." }
        ];

        document.addEventListener("DOMContentLoaded", () => {
            const cardGrid = document.querySelector('.card-grid');
            
            solutionData.forEach(p => {
                const card = document.createElement('div');
                card.className = 'info-card';
                card.dataset.id = p.id;
                card.innerHTML = `
                    <div class="canvas-container" id="canvas-${p.id}"></div>
                    <h3>${p.title}</h3>
                    <p class="description">${p.short}</p>
                `;
                cardGrid.appendChild(card);
            });

            gsap.from(".header h1", { opacity: 0, y: -30, duration: 1.5, ease: "power2.out", delay: 0.5 });
            gsap.from(".header p", { opacity: 0, y: -30, duration: 1.5, ease: "power2.out", delay: 0.8 });
            gsap.from(".info-card", { opacity: 0, y: 30, duration: 1, ease: "power2.out", stagger: 0.2, delay: 1.2 });

            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');
            document.querySelectorAll('.info-card').forEach(card => {
                card.addEventListener('click', () => {
                    const data = solutionData.find(p => p.id === card.dataset.id);
                    document.getElementById('modal-title').innerText = data.title;
                    document.getElementById('modal-description').innerText = data.full;
                    overlay.style.display = 'block';
                    content.style.display = 'block';
                    gsap.to([overlay, content], { opacity: 1, scale: 1, duration: 0.3, ease: 'power2.out' });
                });
            });

            function closeModal() {
                gsap.to([overlay, content], { 
                    opacity: 0, scale: 0.95, duration: 0.3, ease: 'power2.in',
                    onComplete: () => {
                        overlay.style.display = 'none';
                        content.style.display = 'none';
                    }
                });
            }
            document.getElementById('modal-close').addEventListener('click', closeModal);
            overlay.addEventListener('click', closeModal);

            // Three.js Animations
            const scenes = {};
            
            function initAndAnimateScenes() {
                function initScene(id) {
                    const container = document.getElementById(`canvas-${id}`);
                    if (!container) return null;
                    const scene = new THREE.Scene();
                    const camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 100);
                    camera.position.z = 5;
                    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                    renderer.setSize(container.clientWidth, container.clientHeight);
                    renderer.setPixelRatio(window.devicePixelRatio);
                    container.appendChild(renderer.domElement);
                    scenes[id] = { scene, camera, renderer, objects: {} };
                }

                solutionData.forEach(p => initScene(p.id));
            
                // Duality: Controlled transition
                if (scenes.duality) {
                    const geo = new THREE.IcosahedronGeometry(1.5, 5);
                    scenes.duality.objects.positions = geo.attributes.position.clone();
                    const mat = new THREE.PointsMaterial({ color: 0xFBBF24, size: 0.05 });
                    scenes.duality.objects.points = new THREE.Points(geo, mat);
                    scenes.duality.scene.add(scenes.duality.objects.points);
                }

                // Measurement: Deterministic collapse onto a grid
                if(scenes.measurement){
                    const grid = new THREE.GridHelper(6, 6, 0x444444, 0x444444);
                    grid.rotation.x = Math.PI / 2;
                    scenes.measurement.scene.add(grid);
                    const point = new THREE.Mesh(new THREE.SphereGeometry(0.2, 32, 32), new THREE.MeshBasicMaterial({color: 0x60A5FA}));
                    scenes.measurement.objects.point = point;
                    scenes.measurement.scene.add(point);
                }

                // Consciousness: Coherent field
                if(scenes.consciousness) {
                    scenes.consciousness.scene.add(new THREE.AmbientLight(0xffffff, 0.5));
                    const light = new THREE.PointLight(0x4ADE80, 2, 20);
                    scenes.consciousness.scene.add(light);
                    const geo = new THREE.TorusGeometry(1.5, 0.5, 16, 100);
                    const mat = new THREE.MeshStandardMaterial({ color: 0x4ADE80, emissive: 0x166534, metalness: 0.7, roughness: 0.4, wireframe: true });
                    scenes.consciousness.objects.field = new THREE.Mesh(geo, mat);
                    scenes.consciousness.scene.add(scenes.consciousness.objects.field);
                }

                // Cosmological: Prime Periodic Lattice
                if(scenes.cosmological){
                    const geo = new THREE.BoxGeometry(0.2, 0.2, 0.2);
                    const mat = new THREE.MeshBasicMaterial({color: 0x9333EA, wireframe:true});
                    const instancedMesh = new THREE.InstancedMesh(geo, mat, 125);
                    let i = 0;
                    const offset = 1;
                    for ( let x = 0; x < 5; x ++ ) {
                        for ( let y = 0; y < 5; y ++ ) {
                            for ( let z = 0; z < 5; z ++ ) {
                                const matrix = new THREE.Matrix4();
                                matrix.setPosition( x - 2, y - 2, z - 2 );
                                instancedMesh.setMatrixAt( i, matrix );
                                i ++;
                            }
                        }
                    }
                    scenes.cosmological.objects.lattice = instancedMesh;
                    scenes.cosmological.scene.add(instancedMesh);
                }

                // Mathematical: Constants emerging from geometry
                if(scenes.mathematical){
                     const geo = new THREE.IcosahedronGeometry(1.5, 1);
                     const mat = new THREE.MeshBasicMaterial({color: 0xEAB308, wireframe: true});
                     scenes.mathematical.objects.icosa = new THREE.Mesh(geo, mat);
                     scenes.mathematical.scene.add(scenes.mathematical.objects.icosa);
                }

                const clock = new THREE.Clock();
                function animate() {
                    requestAnimationFrame(animate);
                    const time = clock.getElapsedTime();

                    if (scenes.duality && scenes.duality.objects.points) {
                        const p = scenes.duality.objects.points;
                        p.rotation.y += 0.002;
                    }
                    
                    if (scenes.measurement && scenes.measurement.objects.point) {
                         scenes.measurement.objects.point.position.y = Math.sin(time*2) * 2;
                         scenes.measurement.objects.point.position.z = Math.cos(time*2) * 2;
                    }
                    
                    if (scenes.consciousness && scenes.consciousness.objects.field) {
                        scenes.consciousness.objects.field.rotation.x += 0.005;
                        scenes.consciousness.objects.field.rotation.y += 0.005;
                    }
                    
                    if (scenes.cosmological && scenes.cosmological.objects.lattice) {
                        scenes.cosmological.objects.lattice.rotation.y += 0.003;
                    }

                    if (scenes.mathematical && scenes.mathematical.objects.icosa) {
                        scenes.mathematical.objects.icosa.rotation.y += 0.005;
                    }

                    for(const key in scenes) {
                        if (scenes[key] && scenes[key].renderer) {
                            scenes[key].renderer.render(scenes[key].scene, scenes[key].camera);
                        }
                    }
                }
                animate();
            }
            
            initAndAnimateScenes();
        });
    </script>
</body>
</html>
